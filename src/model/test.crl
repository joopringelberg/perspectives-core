-- TEST TYPE DEFINITION CHECKER

Context model:Test als t:

import model:Perspectives als psp:

Section psp:rolInContext

--------------------------------------------------------------------------------
-- MissingRolInstance
--------------------------------------------------------------------------------
psp:Rol t:rolZonderMogelijkeBinding
  extern $isFunctioneel = true

--------------------------------------------------------------------------------
-- IncorrectBinding
--------------------------------------------------------------------------------
psp:View t:viewMetVerkeerdeBinding
  $propertyReferentie => psp:Rol
    $volgNummer = 1

--------------------------------------------------------------------------------
-- UndefinedRol
--------------------------------------------------------------------------------
psp:View t:viewMetOngedefineerdeRol
  $propertyReferentie => psp:Property
    $volgNummer = 1
  $ongedefinieerdeRol => psp:Context

--------------------------------------------------------------------------------
-- Rol defined in Aspect
--------------------------------------------------------------------------------
psp:Context t:AspectMetRol
  $rolInContext =>
    psp:Rol $ongedefinieerdeRol
      $mogelijkeBinding => psp:Context

psp:Context t:ViewMetExtraRol
  $aspect => psp:View
  $aspect => t:AspectMetRol

-- No errors for this definition.
t:ViewMetExtraRol t:viewMetGedefinieerdeRol
  psp:View$propertyReferentie => psp:Property
    $volgNummer = 1
  t:AspectMetRol$ongedefinieerdeRol => psp:Context

--------------------------------------------------------------------------------
-- Rol defined in Aspect not available because it is an aspectRol.
--------------------------------------------------------------------------------
psp:Context t:ViewMetAspectRol
  $aspect => psp:View
  $aspect => t:AspectMetRol
  $rolInContext =>
    psp:Rol $ongedefinieerdeRol
      $aspectRol => t:AspectMetRol$ongedefinieerdeRol

-- t:AspectMetRol$ongedefinieerdeRol should be unavailable.
t:ViewMetAspectRol t:viewMetGedefinieerdeRol1
  psp:View$propertyReferentie => psp:Property
    $volgNummer = 1
  t:AspectMetRol$ongedefinieerdeRol => psp:Context

--------------------------------------------------------------------------------
-- MissingPropertyValue
--------------------------------------------------------------------------------
psp:Rol t:rolZonderFunctioneleProperty
  $mogelijkeBinding => psp:Rol

--------------------------------------------------------------------------------
-- TooManyPropertyValues
--------------------------------------------------------------------------------
psp:Rol t:rolMetTeveelPropertyWaarden
  extern $isFunctioneel = true, false
  $mogelijkeBinding => psp:Rol
