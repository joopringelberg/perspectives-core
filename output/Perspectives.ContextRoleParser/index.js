// Generated by purs version 0.11.7
"use strict";
var Control_Alt = require("../Control.Alt");
var Control_Applicative = require("../Control.Applicative");
var Control_Apply = require("../Control.Apply");
var Control_Bind = require("../Control.Bind");
var Control_Category = require("../Control.Category");
var Control_Monad_Aff = require("../Control.Monad.Aff");
var Control_Monad_Aff_AVar = require("../Control.Monad.Aff.AVar");
var Control_Monad_Reader_Trans = require("../Control.Monad.Reader.Trans");
var Control_Monad_State = require("../Control.Monad.State");
var Control_Monad_State_Class = require("../Control.Monad.State.Class");
var Control_Monad_State_Trans = require("../Control.Monad.State.Trans");
var Control_Monad_Trans_Class = require("../Control.Monad.Trans.Class");
var Data_Array = require("../Data.Array");
var Data_Char_Unicode = require("../Data.Char.Unicode");
var Data_Either = require("../Data.Either");
var Data_Eq = require("../Data.Eq");
var Data_Foldable = require("../Data.Foldable");
var Data_Function = require("../Data.Function");
var Data_Functor = require("../Data.Functor");
var Data_List_Types = require("../Data.List.Types");
var Data_Maybe = require("../Data.Maybe");
var Data_Monoid = require("../Data.Monoid");
var Data_Ord = require("../Data.Ord");
var Data_Ring = require("../Data.Ring");
var Data_Semigroup = require("../Data.Semigroup");
var Data_Semiring = require("../Data.Semiring");
var Data_Show = require("../Data.Show");
var Data_StrMap = require("../Data.StrMap");
var Data_String = require("../Data.String");
var Data_Traversable = require("../Data.Traversable");
var Data_Tuple = require("../Data.Tuple");
var Data_Unit = require("../Data.Unit");
var Perspectives_ContextAndRole = require("../Perspectives.ContextAndRole");
var Perspectives_CoreTypes = require("../Perspectives.CoreTypes");
var Perspectives_DataTypeObjectGetters = require("../Perspectives.DataTypeObjectGetters");
var Perspectives_DomeinFile = require("../Perspectives.DomeinFile");
var Perspectives_Effects = require("../Perspectives.Effects");
var Perspectives_EntiteitAndRDFAliases = require("../Perspectives.EntiteitAndRDFAliases");
var Perspectives_Identifiers = require("../Perspectives.Identifiers");
var Perspectives_IndentParser = require("../Perspectives.IndentParser");
var Perspectives_ModelBasedObjectGetters = require("../Perspectives.ModelBasedObjectGetters");
var Perspectives_ObjectsGetterComposition = require("../Perspectives.ObjectsGetterComposition");
var Perspectives_PerspectEntiteit = require("../Perspectives.PerspectEntiteit");
var Perspectives_Resource = require("../Perspectives.Resource");
var Perspectives_Syntax = require("../Perspectives.Syntax");
var Perspectives_Token = require("../Perspectives.Token");
var Prelude = require("../Prelude");
var Text_Parsing_Indent = require("../Text.Parsing.Indent");
var Text_Parsing_Parser = require("../Text.Parsing.Parser");
var Text_Parsing_Parser_Combinators = require("../Text.Parsing.Parser.Combinators");
var Text_Parsing_Parser_Pos = require("../Text.Parsing.Parser.Pos");
var Text_Parsing_Parser_String = require("../Text.Parsing.Parser.String");
var Text_Parsing_Parser_Token = require("../Text.Parsing.Parser.Token");
var UserData = (function () {
    function UserData(value0) {
        this.value0 = value0;
    };
    UserData.create = function (value0) {
        return new UserData(value0);
    };
    return UserData;
})();
var RootContext = (function () {
    function RootContext(value0) {
        this.value0 = value0;
    };
    RootContext.create = function (value0) {
        return new RootContext(value0);
    };
    return RootContext;
})();
var withRoleCounting = function (p) {
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.getRoleInstances)(function (v) {
        return Control_Bind.discard(Control_Bind.discardUnit)(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.setRoleInstances(Data_StrMap.empty))(function () {
            return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(p)(function (v1) {
                return Control_Bind.discard(Control_Bind.discardUnit)(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.setRoleInstances(v))(function () {
                    return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(v1);
                });
            });
        });
    });
};
var string = Perspectives_Token.token.stringLiteral;
var sourceLine = function (v) {
    return v.line;
};
var sourceColumn = function (v) {
    return v.column;
};
var roleOccurrence = Perspectives_Token.token.parens(Perspectives_Token.token.integer);
var reservedOp = Perspectives_Token.token.reservedOp;
var reserved = Perspectives_Token.token.reserved;
var manyOneLineComments = Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(Data_Functor.map(Text_Parsing_Parser.functorParserT(Control_Monad_State_Trans.functorStateT(Control_Monad_State_Trans.functorStateT(Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff)))))(Data_String.fromCharArray)(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_String.string(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("--"))(Control_Apply.applyFirst(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(Text_Parsing_Parser_String.satisfy(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(function (v) {
    return v !== "\x0a";
})))(Text_Parsing_Parser_String.whiteSpace(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))))));
var lower = Text_Parsing_Parser_Combinators.withErrorMessage(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Text_Parsing_Parser_String.satisfy(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Data_Char_Unicode.isLower))("uppercase letter");
var prefix = (function () {
    var f = function (fst) {
        return function (ca) {
            return function (c) {
                return Data_String.fromCharArray(Data_Array.cons(fst)(Data_Array.snoc(ca)(c)));
            };
        };
    };
    return Control_Apply.apply(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.apply(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Functor.map(Text_Parsing_Parser.functorParserT(Control_Monad_State_Trans.functorStateT(Control_Monad_State_Trans.functorStateT(Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff)))))(f)(lower))(Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(lower)))(Text_Parsing_Parser_String["char"](Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(":"));
})();
var lexeme = Perspectives_Token.token.lexeme;
var prefixedName = function (localName) {
    return lexeme(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(prefix)(function (v) {
        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(localName)(function (v1) {
            return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.getPrefix(v))(function (v2) {
                if (v2 instanceof Data_Maybe.Nothing) {
                    return Text_Parsing_Parser.fail(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("The prefix '" + (v + "' has not been declared!"));
                };
                if (v2 instanceof Data_Maybe.Just) {
                    return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Perspectives_Identifiers.QualifiedName(v2.value0, v1));
                };
                throw new Error("Failed pattern match at Perspectives.ContextRoleParser line 149, column 3 - line 151, column 44: " + [ v2.constructor.name ]);
            });
        });
    }));
};
var $$int = Data_Functor.map(Text_Parsing_Parser.functorParserT(Control_Monad_State_Trans.functorStateT(Control_Monad_State_Trans.functorStateT(Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff)))))(Data_Show.show(Data_Show.showInt))(Perspectives_Token.token.integer);
var inLineComment = Text_Parsing_Parser_Combinators.option(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))([  ])(Control_Bind.discard(Control_Bind.discardUnit)(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Indent.sameLine(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(function () {
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_String.string(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("--"))(function (v) {
        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(Text_Parsing_Parser_String.satisfy(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(function (v1) {
            return v1 !== "\x0a";
        })))(function (v1) {
            return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_String.whiteSpace(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(function (v2) {
                return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))([ Data_String.fromCharArray(v1) ]);
            });
        });
    });
}));
var withComments = function (p) {
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(manyOneLineComments)(function (v) {
        return Text_Parsing_Indent.withPos(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(p)(function (v1) {
            return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(inLineComment)(function (v2) {
                return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Data_Tuple.Tuple({
                    commentBefore: v,
                    commentAfter: v2
                }, v1));
            });
        }));
    });
};
var identifier = Perspectives_Token.token.identifier;
var identLetter = Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_Token.alphaNum(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_String.oneOf(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))([ "_", "'" ]));
var identLetterString = (function () {
    var f = function (c) {
        return function (ca) {
            return Data_String.fromCharArray(Data_Array.cons(c)(ca));
        };
    };
    return Control_Apply.apply(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Functor.map(Text_Parsing_Parser.functorParserT(Control_Monad_State_Trans.functorStateT(Control_Monad_State_Trans.functorStateT(Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff)))))(f)(identLetter))(Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(identLetter));
})();
var localContextName = identLetterString;
var relativeContextTypeName = lexeme(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.getTypeNamespace)(function (v) {
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_String.string(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("$"))(localContextName))(function (v1) {
        return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Perspectives_Identifiers.QualifiedName(v, v1));
    });
}));
var uncapitalizedString = (function () {
    var f = function (c) {
        return function (ca) {
            return Data_String.fromCharArray(Data_Array.cons(c)(ca));
        };
    };
    return Control_Apply.apply(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Functor.map(Text_Parsing_Parser.functorParserT(Control_Monad_State_Trans.functorStateT(Control_Monad_State_Trans.functorStateT(Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff)))))(f)(lower))(Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(identLetter));
})();
var localPropertyName = uncapitalizedString;
var relativePropertyTypeName = lexeme(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.getTypeNamespace)(function (v) {
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_String.string(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("$"))(localPropertyName))(function (v1) {
        return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Perspectives_Identifiers.QualifiedName(v, v1));
    });
}));
var localRolName = uncapitalizedString;
var relativeRolTypeName = lexeme(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.getTypeNamespace)(function (v) {
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_String.string(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("$"))(localRolName))(function (v1) {
        return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Perspectives_Identifiers.QualifiedName(v, v1));
    });
}));
var getPosition = Control_Monad_State_Class.gets(Text_Parsing_Parser.monadStateParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(function (v) {
    return v.value1;
});
var nextLine = Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(getPosition)(function (v) {
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Monad_Trans_Class.lift(Text_Parsing_Parser.monadTransParserT)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Monad_State_Class.get(Control_Monad_State_Trans.monadStateStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))))(function (v1) {
        var $148 = (sourceLine(v1) + 1 | 0) === sourceLine(v);
        if ($148) {
            return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Unit.unit);
        };
        return Text_Parsing_Parser.fail(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("not on next line");
    });
});
var defaultEmbedded = function (p) {
    return Control_Apply.apply(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Functor.map(Text_Parsing_Parser.functorParserT(Control_Monad_State_Trans.functorStateT(Control_Monad_State_Trans.functorStateT(Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff)))))(Data_Semigroup.append(Data_Semigroup.semigroupString))(Text_Parsing_Parser_String.string(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("$")))(p);
};
var segmentedName = (function () {
    var f = function (first) {
        return function (rest) {
            return Data_Foldable.fold(Data_Foldable.foldableArray)(Data_Monoid.monoidString)(Data_Array.cons(first)(rest));
        };
    };
    return Control_Apply.apply(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Functor.map(Text_Parsing_Parser.functorParserT(Control_Monad_State_Trans.functorStateT(Control_Monad_State_Trans.functorStateT(Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff)))))(f)(identLetterString))(Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(defaultEmbedded(identLetterString)));
})();
var prefixedContextName = prefixedName(segmentedName);
var prefixedPropertyName = prefixedContextName;
var dataTypes = [ "Number", "String", "Boolean", "Date", "SimpleValue" ];
var dataType = Text_Parsing_Parser_Combinators["try"](Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(identifier)(function (v) {
    var $150 = Data_Foldable.elem(Data_Foldable.foldableArray)(Data_Eq.eqString)(v)(dataTypes);
    if ($150) {
        return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(v);
    };
    return Text_Parsing_Parser.fail(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("one of 'Number', 'String', 'Boolean' or 'Date'.");
}));
var contextInstanceIDInCurrentNamespace = lexeme(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.getNamespace)(function (v) {
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_String.string(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("$"))(localContextName))(function (v1) {
        return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Perspectives_Identifiers.QualifiedName(v, v1));
    });
}));
var capitalizedString = (function () {
    var f = function (c) {
        return function (ca) {
            return Data_String.fromCharArray(Data_Array.cons(c)(ca));
        };
    };
    return Control_Apply.apply(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Functor.map(Text_Parsing_Parser.functorParserT(Control_Monad_State_Trans.functorStateT(Control_Monad_State_Trans.functorStateT(Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff)))))(f)(Text_Parsing_Parser_Token.upper(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))))(Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(identLetter));
})();
var domeinName = Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_String.string(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("model:"))(function (v) {
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(capitalizedString)(function (v1) {
        return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))("model:" + v1);
    });
});
var expandedContextName = Text_Parsing_Parser_Combinators["try"](Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(lexeme(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(domeinName)(function (v) {
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_String.string(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("$"))(function (v1) {
        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(segmentedName)(function (v2) {
            return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Perspectives_Identifiers.QualifiedName(v, v2));
        });
    });
})));
var contextName = Text_Parsing_Parser_Combinators.withErrorMessage(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(expandedContextName)(prefixedContextName))(contextInstanceIDInCurrentNamespace))("the name of a resource (Context or Role).");
var typeContextName = Text_Parsing_Parser_Combinators.withErrorMessage(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(expandedContextName)(prefixedContextName))(relativeContextTypeName))("the name of a resource (Context or Role).");
var contextDeclaration = Text_Parsing_Parser_Combinators.withErrorMessage(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Apply.apply(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.apply(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Functor.map(Text_Parsing_Parser.functorParserT(Control_Monad_State_Trans.functorStateT(Control_Monad_State_Trans.functorStateT(Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff)))))(Perspectives_Syntax.ContextDeclaration.create)(typeContextName))(contextName))(inLineComment))("a type declaration, e.g. :ContextType :ContextName.");
var expandedPropertyName = Text_Parsing_Parser_Combinators["try"](Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(lexeme(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(domeinName)(function (v) {
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_String.string(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("$"))(function (v1) {
        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(localPropertyName)(function (v2) {
            return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Perspectives_Identifiers.QualifiedName(v, v2));
        });
    });
})));
var propertyName = Text_Parsing_Parser_Combinators.withErrorMessage(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(expandedPropertyName)(prefixedPropertyName))(relativePropertyTypeName))("a property or role name.");
var roleName = propertyName;
var isRoleDeclaration = Text_Parsing_Indent.withPos(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(roleName)(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Indent.sameLine(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Text_Parsing_Parser_Combinators.optionMaybe(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(roleOccurrence))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Indent.sameLine(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(reservedOp("=>"))))(Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Unit.unit)));
var sectionHeading = Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(reserved("Section"))(propertyName))(function (v) {
    return Control_Bind.discard(Control_Bind.discardUnit)(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.setSection(v))(function () {
        return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v));
    });
});
var modelName = lexeme(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(domeinName)(function (v) {
    return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(v);
}));
var importExpression = Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(reserved("import"))(modelName))(function (v) {
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_Combinators.optionMaybe(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Apply.applyFirst(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(reserved("als"))(prefix))(Text_Parsing_Parser_String.whiteSpace(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))))(function (v1) {
        if (v1 instanceof Data_Maybe.Nothing) {
            return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Unit.unit);
        };
        if (v1 instanceof Data_Maybe.Just) {
            return Perspectives_IndentParser.setPrefix(v1.value0)(v);
        };
        throw new Error("Failed pattern match at Perspectives.ContextRoleParser line 578, column 3 - line 580, column 35: " + [ v1.constructor.name ]);
    });
});
var perspectEntiteitIdentifier = Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(modelName)(function (v) {
    return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Show.show(Perspectives_Identifiers.showModelName)(v));
}))(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(contextName)(function (v) {
    return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v));
}));
var enclosingContextDeclaration = Text_Parsing_Parser_Combinators.withErrorMessage(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(reserved("Context"))(perspectEntiteitIdentifier))(function (v) {
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.setNamespace(v))(function (v1) {
        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.setTypeNamespace("model:Perspectives$Context"))(function (v2) {
            return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_Combinators.optionMaybe(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Apply.applyFirst(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(reserved("als"))(prefix))(Text_Parsing_Parser_String.whiteSpace(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))))(function (v3) {
                return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(inLineComment)(function (v4) {
                    return Control_Bind.discard(Control_Bind.discardUnit)(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))((function () {
                        if (v3 instanceof Data_Maybe.Nothing) {
                            return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Unit.unit);
                        };
                        if (v3 instanceof Data_Maybe.Just) {
                            return Perspectives_IndentParser.setPrefix(v3.value0)(v);
                        };
                        throw new Error("Failed pattern match at Perspectives.ContextRoleParser line 271, column 3 - line 273, column 38: " + [ v3.constructor.name ]);
                    })())(function () {
                        return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Perspectives_Syntax.EnclosingContextDeclaration(v, v4));
                    });
                });
            });
        });
    });
}))("the context declaration: Context <name>.");
var cacheRol = function (rolId) {
    return function (rol) {
        return Control_Bind.discard(Control_Bind.discardUnit)(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.addRol(rol))(function () {
            return Perspectives_IndentParser.liftAffToIP(Perspectives_PerspectEntiteit.cacheEntiteitPreservingVersion(Perspectives_PerspectEntiteit.perspectEntiteitRol)(rolId)(rol));
        });
    };
};
var cacheContext = function (contextId) {
    return function (ctxt) {
        return Control_Bind.discard(Control_Bind.discardUnit)(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.addContext(ctxt))(function () {
            return Perspectives_IndentParser.liftAffToIP(Perspectives_PerspectEntiteit.cacheEntiteitPreservingVersion(Perspectives_PerspectEntiteit.perspectEntiteitContext)(contextId)(ctxt));
        });
    };
};
var bool = Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Functor.voidLeft(Text_Parsing_Parser.functorParserT(Control_Monad_State_Trans.functorStateT(Control_Monad_State_Trans.functorStateT(Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff)))))(reserved("true"))("true"))(Data_Functor.voidLeft(Text_Parsing_Parser.functorParserT(Control_Monad_State_Trans.functorStateT(Control_Monad_State_Trans.functorStateT(Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff)))))(reserved("false"))("false"));
var simpleValue = Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(string)($$int))(bool);
var typedPropertyAssignment = function (scope) {
    var go = function (x) {
        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(x)(function (v) {
            return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Data_Tuple.Tuple(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v.value1.value0), {
                value: Data_Array.fromFoldable(Data_List_Types.foldableList)(v.value1.value1),
                commentBefore: v.value0.commentBefore,
                commentAfter: v.value0.commentAfter
            }));
        });
    };
    return go(Text_Parsing_Parser_Combinators["try"](Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(withComments(Text_Parsing_Indent.withPos(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))(Control_Apply.apply(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Functor.map(Text_Parsing_Parser.functorParserT(Control_Monad_State_Trans.functorStateT(Control_Monad_State_Trans.functorStateT(Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff)))))(Data_Tuple.Tuple.create)(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(scope)(Control_Apply.applyFirst(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(propertyName)(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Indent.sameLine(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(reservedOp("="))))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Indent.sameLine(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Text_Parsing_Parser_Combinators.sepBy(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(simpleValue)(Text_Parsing_Parser_String.string(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(","))))))));
};
var privateContextPropertyAssignment = Text_Parsing_Parser_Combinators.withErrorMessage(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(typedPropertyAssignment(reserved("intern")))("intern propertyname = value");
var publicContextPropertyAssignment = Text_Parsing_Parser_Combinators.withErrorMessage(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(typedPropertyAssignment(reserved("extern")))("extern propertyname = value");
var rolePropertyAssignment = Text_Parsing_Parser_Combinators.withErrorMessage(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(typedPropertyAssignment(Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Unit.unit)))("intern propertyname = value");
var expression = Text_Parsing_Parser_Combinators.choice(Data_Foldable.foldableArray)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))([ Text_Parsing_Parser_Combinators["try"](Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(enclosingContextDeclaration)(Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))("enclosingContextDeclaration"))), Text_Parsing_Parser_Combinators["try"](Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(importExpression)(Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))("importExpression"))), Text_Parsing_Parser_Combinators["try"](Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(sectionHeading)(Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))("sectionHeading"))), Text_Parsing_Parser_Combinators["try"](Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(contextDeclaration)(Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))("contextDeclaration"))), Text_Parsing_Parser_Combinators["try"](Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(publicContextPropertyAssignment)(Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))("publicContextPropertyAssignment"))), Text_Parsing_Parser_Combinators["try"](Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(privateContextPropertyAssignment)(Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))("privateContextPropertyAssignment"))), Text_Parsing_Parser_Combinators["try"](Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(rolePropertyAssignment)(Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))("rolePropertyAssignment"))), Text_Parsing_Parser_Combinators["try"](Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(isRoleDeclaration)(Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))("isRoleDeclaration"))), Text_Parsing_Parser_Combinators["try"](Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_String.string(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("--"))(Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))("oneLineComment"))) ]);
var roleBinding$prime = function (cname) {
    return function (p) {
        var roleIndex = function (nrInText) {
            return function (nrInSequence) {
                if (nrInText instanceof Data_Maybe.Just) {
                    return nrInText.value0;
                };
                if (nrInText instanceof Data_Maybe.Nothing) {
                    if (nrInSequence instanceof Data_Maybe.Just) {
                        return nrInSequence.value0;
                    };
                    if (nrInSequence instanceof Data_Maybe.Nothing) {
                        return 0;
                    };
                    throw new Error("Failed pattern match at Perspectives.ContextRoleParser line 358, column 18 - line 362, column 1: " + [ nrInSequence.constructor.name ]);
                };
                throw new Error("Failed pattern match at Perspectives.ContextRoleParser line 356, column 39 - line 362, column 1: " + [ nrInText.constructor.name ]);
            };
        };
        return Text_Parsing_Parser_Combinators.asErrorMessage(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("rolename => contextName")(Text_Parsing_Parser_Combinators["try"](Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(manyOneLineComments)(function (v) {
            return Text_Parsing_Indent.withPos(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(roleName)(function (v1) {
                return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Indent.sameLine(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Text_Parsing_Parser_Combinators.optionMaybe(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(roleOccurrence)))(function (v2) {
                    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Indent.sameLine(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(reservedOp("=>")))(function (v3) {
                        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(p)(function (v4) {
                            return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.withExtendedTypeNamespace(v1.value1)(Text_Parsing_Parser_Combinators.option(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Data_List_Types.Nil.value)(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Indent.indented(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Text_Parsing_Indent.block(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Indent.checkIndent(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(rolePropertyAssignment))))))(function (v5) {
                                return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.incrementRoleInstances(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1)))(function (v6) {
                                    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.getRoleOccurrences(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1)))(function (v7) {
                                        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(cname) + ("$" + (v1.value1 + ("_" + Data_Show.show(Data_Show.showInt)(roleIndex(v2)(v7)))))))(function (v8) {
                                            return Control_Bind.discard(Control_Bind.discardUnit)(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(cacheRol(v8)((function () {
                                                var $192 = {};
                                                for (var $193 in Perspectives_ContextAndRole.defaultRolRecord) {
                                                    if ({}.hasOwnProperty.call(Perspectives_ContextAndRole.defaultRolRecord, $193)) {
                                                        $192[$193] = Perspectives_ContextAndRole["defaultRolRecord"][$193];
                                                    };
                                                };
                                                $192._id = v8;
                                                $192.occurrence = roleIndex(v2)(v7);
                                                $192.pspType = Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1);
                                                $192.binding = Perspectives_Syntax.binding(Data_Maybe.maybe("")(Control_Category.id(Control_Category.categoryFn))(v4.value1));
                                                $192.context = Data_Show.show(Perspectives_Identifiers.showQualifiedName)(cname);
                                                $192.properties = Data_StrMap.fromFoldable(Data_List_Types.foldableList)(Data_Functor.map(Data_List_Types.functorList)(function (v10) {
                                                    return new Data_Tuple.Tuple(v10.value0, v10.value1);
                                                })(v5));
                                                $192.comments = {
                                                    commentBefore: v,
                                                    commentAfter: v4.value0
                                                };
                                                return $192;
                                            })()))(function () {
                                                return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Data_Tuple.Tuple(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1), v8));
                                            });
                                        });
                                    });
                                });
                            });
                        });
                    });
                });
            }));
        })));
    };
};
var emptyRoleBinding = function (cName) {
    return roleBinding$prime(cName)(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_Token.token.parens(Text_Parsing_Parser_String.whiteSpace(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))))(function (v) {
        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(inLineComment)(function (v1) {
            return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Data_Tuple.Tuple(v1, Data_Maybe.Nothing.value));
        });
    }));
};
var roleBindingWithReference = function (cName) {
    var butLastNNamespaceLevels = function (v) {
        return function (v1) {
            if (v1 === -1) {
                return Text_Parsing_Parser.fail(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("local name starting with '$'.");
            };
            if (v1 === 0) {
                return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(v);
            };
            return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_String.split("$")(v)))(function (v2) {
                var $203 = (v1 - 1 | 0) > Data_Array.length(v2);
                if ($203) {
                    return Text_Parsing_Parser.fail(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("too many levels up");
                };
                return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Foldable.intercalate(Data_Foldable.foldableArray)(Data_Monoid.monoidString)("$")(Data_Array.dropEnd(v1)(v2)));
            });
        };
    };
    var relativeContextInstanceID = lexeme(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.getNamespace)(function (v) {
        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Functor.map(Text_Parsing_Parser.functorParserT(Control_Monad_State_Trans.functorStateT(Control_Monad_State_Trans.functorStateT(Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff)))))(Data_Array.length)(Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(Text_Parsing_Parser_String.string(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("$"))))(function (v1) {
            return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(segmentedName)(function (v2) {
                return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(butLastNNamespaceLevels(v)(v1 - 1 | 0))(function (v3) {
                    return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Perspectives_Identifiers.QualifiedName(v3, v2));
                });
            });
        });
    }));
    var contextReference = Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(expandedContextName)(prefixedContextName))(relativeContextInstanceID))(function (v) {
        return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_Identifiers.buitenRol(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v)));
    });
    var rolInHigherContext = lexeme(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.getNamespace)(function (v) {
        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Functor.map(Text_Parsing_Parser.functorParserT(Control_Monad_State_Trans.functorStateT(Control_Monad_State_Trans.functorStateT(Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff)))))(Data_Array.length)(Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(Text_Parsing_Parser_String.string(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))("$"))))(function (v1) {
            return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(localContextName)(function (v2) {
                return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(butLastNNamespaceLevels(v)(v1 - 1 | 0))(function (v3) {
                    return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Perspectives_Identifiers.QualifiedName(v3, v2));
                });
            });
        });
    }));
    var relativeRolInstanceID = Text_Parsing_Parser_Combinators["try"](Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(rolInHigherContext)(function (v) {
        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(roleOccurrence)(function (v1) {
            return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v) + ("_" + Data_Show.show(Data_Show.showInt)(v1)));
        });
    }));
    return roleBinding$prime(cName)(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Indent.sameLine(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(relativeRolInstanceID))(contextReference))(function (v) {
        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(inLineComment)(function (v1) {
            return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Data_Tuple.Tuple(v1, new Data_Maybe.Just(v)));
        });
    }));
};
var roleBindingWithInlineContext = function (cName) {
    return roleBinding$prime(cName)(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(inLineComment)(function (v) {
        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(nextLine)(function (v1) {
            return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Indent.indented(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(context))(function (v2) {
                return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Data_Tuple.Tuple(v, new Data_Maybe.Just(v2)));
            });
        });
    }));
};
var roleBinding = function (cname) {
    return Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(roleBindingWithInlineContext(cname))(roleBindingWithReference(cname)))(emptyRoleBinding(cname));
};
var context = (function () {
    var prototypeDeclaration = Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(reserved("prototype"))(contextName))(function (v) {
        return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Maybe.Just.create(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v)));
    });
    var collect = function (v) {
        if (v instanceof Data_List_Types.Nil) {
            return Data_StrMap.empty;
        };
        if (v instanceof Data_List_Types.Cons) {
            var map = collect(v.value1);
            var v1 = Data_StrMap.lookup(v.value0.value0)(map);
            if (v1 instanceof Data_Maybe.Nothing) {
                return Data_StrMap.insert(v.value0.value0)([ v.value0.value1 ])(map);
            };
            if (v1 instanceof Data_Maybe.Just) {
                return Data_StrMap.insert(v.value0.value0)(Data_Array.cons(v.value0.value1)(v1.value0))(map);
            };
            throw new Error("Failed pattern match at Perspectives.ContextRoleParser line 507, column 5 - line 509, column 54: " + [ v1.constructor.name ]);
        };
        throw new Error("Failed pattern match at Perspectives.ContextRoleParser line 504, column 3 - line 504, column 58: " + [ v.constructor.name ]);
    };
    var context$prime = Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(manyOneLineComments)(function (v) {
        return Text_Parsing_Indent.withPos(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(contextDeclaration)(function (v1) {
            return Perspectives_IndentParser.withNamespace(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1.value1))(Perspectives_IndentParser.withTypeNamespace(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1.value0))(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_Combinators.option(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Data_Maybe.Nothing.value)(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Indent.indented(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(prototypeDeclaration)))(function (v2) {
                return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_Combinators.option(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Data_List_Types.Nil.value)(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Indent.indented(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Perspectives_IndentParser.withExtendedTypeNamespace("buitenRolBeschrijving")(Text_Parsing_Indent.block(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))(publicContextPropertyAssignment)))))(function (v3) {
                    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_Combinators.option(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Data_List_Types.Nil.value)(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Indent.indented(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Perspectives_IndentParser.withExtendedTypeNamespace("binnenRolBeschrijving")(Text_Parsing_Indent.block(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))(privateContextPropertyAssignment)))))(function (v4) {
                        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser_Combinators.option(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Data_List_Types.Nil.value)(Control_Apply.applySecond(Text_Parsing_Parser.applyParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Indent.indented(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))(Text_Parsing_Indent.block(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))(roleBinding(v1.value1)))))(function (v5) {
                            return Control_Bind.discard(Control_Bind.discardUnit)(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(cacheContext(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1.value1))((function () {
                                var $236 = {};
                                for (var $237 in Perspectives_ContextAndRole.defaultContextRecord) {
                                    if ({}.hasOwnProperty.call(Perspectives_ContextAndRole.defaultContextRecord, $237)) {
                                        $236[$237] = Perspectives_ContextAndRole["defaultContextRecord"][$237];
                                    };
                                };
                                $236._id = Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1.value1);
                                $236.displayName = v1.value1.value1;
                                $236.pspType = Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1.value0);
                                $236.binnenRol = (function () {
                                    var $233 = {};
                                    for (var $234 in Perspectives_ContextAndRole.defaultRolRecord) {
                                        if ({}.hasOwnProperty.call(Perspectives_ContextAndRole.defaultRolRecord, $234)) {
                                            $233[$234] = Perspectives_ContextAndRole["defaultRolRecord"][$234];
                                        };
                                    };
                                    $233._id = Perspectives_Identifiers.binnenRol(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1.value1));
                                    $233.pspType = Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1.value0) + "$binnenRolBeschrijving";
                                    $233.binding = Perspectives_Syntax.binding(Perspectives_Identifiers.buitenRol(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1.value1)));
                                    $233.properties = Data_StrMap.fromFoldable(Data_List_Types.foldableList)(v4);
                                    return $233;
                                })();
                                $236.buitenRol = Perspectives_Identifiers.buitenRol(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1.value1));
                                $236.rolInContext = collect(v5);
                                $236.comments = {
                                    commentBefore: v,
                                    commentAfter: v1.value2
                                };
                                return $236;
                            })()))(function () {
                                return Control_Bind.discard(Control_Bind.discardUnit)(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(cacheRol(Perspectives_Identifiers.buitenRol(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1.value1)))((function () {
                                    var $239 = {};
                                    for (var $240 in Perspectives_ContextAndRole.defaultRolRecord) {
                                        if ({}.hasOwnProperty.call(Perspectives_ContextAndRole.defaultRolRecord, $240)) {
                                            $239[$240] = Perspectives_ContextAndRole["defaultRolRecord"][$240];
                                        };
                                    };
                                    $239._id = Perspectives_Identifiers.buitenRol(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1.value1));
                                    $239.pspType = "";
                                    $239.context = Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1.value1);
                                    $239.binding = Perspectives_Syntax.binding(Data_Maybe.maybe("")(Perspectives_Identifiers.buitenRol)(v2));
                                    $239.properties = Data_StrMap.fromFoldable(Data_List_Types.foldableList)(v3);
                                    return $239;
                                })()))(function () {
                                    return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_Identifiers.buitenRol(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1.value1)));
                                });
                            });
                        });
                    });
                });
            })));
        }));
    });
    return withRoleCounting(context$prime);
})();
var definition = Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(context)(function (v) {
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.getSection)(function (v1) {
        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.incrementRoleInstances(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1)))(function (v2) {
            return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.getRoleOccurrences(Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1)))(function (v3) {
                return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.getNamespace)(function (v4) {
                    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(v4 + ("$" + (v1.value1 + Data_Maybe.maybe("0")(Data_Show.show(Data_Show.showInt))(v3)))))(function (v5) {
                        return Control_Bind.discard(Control_Bind.discardUnit)(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(cacheRol(v5)((function () {
                            var $252 = {};
                            for (var $253 in Perspectives_ContextAndRole.defaultRolRecord) {
                                if ({}.hasOwnProperty.call(Perspectives_ContextAndRole.defaultRolRecord, $253)) {
                                    $252[$253] = Perspectives_ContextAndRole["defaultRolRecord"][$253];
                                };
                            };
                            $252._id = v5;
                            $252.occurrence = Data_Maybe.maybe(0)(Control_Category.id(Control_Category.categoryFn))(v3);
                            $252.pspType = Data_Show.show(Perspectives_Identifiers.showQualifiedName)(v1);
                            $252.binding = Perspectives_Syntax.binding(v);
                            $252.context = v4;
                            return $252;
                        })()))(function () {
                            return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(v5);
                        });
                    });
                });
            });
        });
    });
});
var section = Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(sectionHeading)(function (v) {
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(definition))(function (v1) {
        return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new Data_Tuple.Tuple(v, v1));
    });
});
var enclosingContext = (function () {
    var enclosingContext$prime = Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(manyOneLineComments)(function (v) {
        return Text_Parsing_Indent.withPos(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(enclosingContextDeclaration)(function (v1) {
            return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(importExpression))(function (v2) {
                return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.withExtendedTypeNamespace("buitenRolBeschrijving")(Text_Parsing_Indent.block(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))(publicContextPropertyAssignment)))(function (v3) {
                    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Perspectives_IndentParser.withExtendedTypeNamespace("binnenRolBeschrijving")(Text_Parsing_Indent.block(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))(privateContextPropertyAssignment)))(function (v4) {
                        return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(section))(function (v5) {
                            return Control_Bind.discard(Control_Bind.discardUnit)(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(cacheContext(v1.value0)((function () {
                                var $267 = {};
                                for (var $268 in Perspectives_ContextAndRole.defaultContextRecord) {
                                    if ({}.hasOwnProperty.call(Perspectives_ContextAndRole.defaultContextRecord, $268)) {
                                        $267[$268] = Perspectives_ContextAndRole["defaultContextRecord"][$268];
                                    };
                                };
                                $267._id = v1.value0;
                                $267.displayName = v1.value0;
                                $267.pspType = "model:Perspectives$Context";
                                $267.binnenRol = (function () {
                                    var $264 = {};
                                    for (var $265 in Perspectives_ContextAndRole.defaultRolRecord) {
                                        if ({}.hasOwnProperty.call(Perspectives_ContextAndRole.defaultRolRecord, $265)) {
                                            $264[$265] = Perspectives_ContextAndRole["defaultRolRecord"][$265];
                                        };
                                    };
                                    $264._id = Perspectives_Identifiers.binnenRol(v1.value0);
                                    $264.pspType = "model:Perspectives$Context$binnenRolBeschrijving";
                                    $264.binding = Perspectives_Syntax.binding(Perspectives_Identifiers.buitenRol(v1.value0));
                                    $264.properties = Data_StrMap.fromFoldable(Data_List_Types.foldableList)(v4);
                                    return $264;
                                })();
                                $267.buitenRol = Perspectives_Identifiers.buitenRol(v1.value0);
                                $267.rolInContext = Data_StrMap.fromFoldable(Data_Foldable.foldableArray)(v5);
                                $267.comments = {
                                    commentBefore: v,
                                    commentAfter: v1.value1
                                };
                                return $267;
                            })()))(function () {
                                return Control_Bind.discard(Control_Bind.discardUnit)(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(cacheRol(Perspectives_Identifiers.buitenRol(v1.value0))((function () {
                                    var $270 = {};
                                    for (var $271 in Perspectives_ContextAndRole.defaultRolRecord) {
                                        if ({}.hasOwnProperty.call(Perspectives_ContextAndRole.defaultRolRecord, $271)) {
                                            $270[$271] = Perspectives_ContextAndRole["defaultRolRecord"][$271];
                                        };
                                    };
                                    $270._id = Perspectives_Identifiers.buitenRol(v1.value0);
                                    $270.pspType = "model:Perspectives$Context$buitenRolBeschrijving";
                                    $270.context = v1.value0;
                                    $270.properties = Data_StrMap.fromFoldable(Data_List_Types.foldableList)(v3);
                                    $270.binding = Perspectives_Syntax.binding("model:Perspectives$ContextPrototype_buitenRol");
                                    return $270;
                                })()))(function () {
                                    return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new RootContext(v1.value0));
                                });
                            });
                        });
                    });
                });
            });
        }));
    });
    return withRoleCounting(enclosingContext$prime);
})();
var userData = (function () {
    var userDataDeclaration = reserved("GebruikerGegevens");
    return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(manyOneLineComments)(function (v) {
        return Text_Parsing_Indent.withPos(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))(Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(userDataDeclaration)(function (v1) {
            return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(importExpression))(function (v2) {
                return Control_Bind.bind(Text_Parsing_Parser.bindParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(context))(function (v3) {
                    return Control_Applicative.pure(Text_Parsing_Parser.applicativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(new UserData(v3));
                });
            });
        }));
    });
})();
var rootParser = Control_Alt.alt(Text_Parsing_Parser.altParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(enclosingContext)(userData);
var parseAndCache = function (text) {
    var vultRol = function (vuller) {
        return function (rolName) {
            return function (gevuldeRol) {
                return Control_Bind.bind(Control_Monad_Reader_Trans.bindReaderT(Control_Monad_Aff.bindAff))(Perspectives_Resource.getAVarRepresentingPerspectEntiteit(Perspectives_PerspectEntiteit.perspectEntiteitRol)(vuller))(function (v) {
                    return Control_Monad_Trans_Class.lift(Control_Monad_Reader_Trans.monadTransReaderT)(Control_Monad_Aff.monadAff)(Data_Functor["void"](Control_Monad_Aff.functorAff)(Control_Bind.bind(Control_Monad_Aff.bindAff)(Control_Monad_Aff_AVar.takeVar(v))(function (v1) {
                        return Control_Monad_Aff_AVar.putVar(Perspectives_ContextAndRole.addRol_gevuldeRollen(v1)(rolName)(gevuldeRol))(v);
                    })));
                });
            };
        };
    };
    var setBuitenRolType = function (buitenRol) {
        return Control_Bind.bind(Control_Monad_Reader_Trans.bindReaderT(Control_Monad_Aff.bindAff))(Perspectives_CoreTypes.applyObjectsGetterToObject(Perspectives_ContextAndRole.rol_context(buitenRol))(Perspectives_DataTypeObjectGetters.buitenRol))(function (v) {
            var $280 = Perspectives_ContextAndRole.rol_id(buitenRol) === v;
            if ($280) {
                return Control_Bind.bind(Control_Monad_Reader_Trans.bindReaderT(Control_Monad_Aff.bindAff))(Perspectives_CoreTypes.applyObjectsGetterToObject(Perspectives_ContextAndRole.rol_context(buitenRol))(Perspectives_ObjectsGetterComposition.unionOfObjects(Perspectives_DataTypeObjectGetters.contextType)(Perspectives_ModelBasedObjectGetters.buitenRolBeschrijvingDef)))(function (v1) {
                    return Data_Functor["void"](Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff))(Perspectives_PerspectEntiteit.cacheCachedEntiteit(Perspectives_PerspectEntiteit.perspectEntiteitRol)(Perspectives_ContextAndRole.rol_id(buitenRol))(Perspectives_ContextAndRole.changeRol_type(v1)(buitenRol)));
                });
            };
            return Control_Applicative.pure(Control_Monad_Reader_Trans.applicativeReaderT(Control_Monad_Aff.applicativeAff))(Data_Unit.unit);
        });
    };
    return Control_Bind.bind(Control_Monad_Reader_Trans.bindReaderT(Control_Monad_Aff.bindAff))(Perspectives_IndentParser["runIndentParser'"](text)(rootParser))(function (v) {
        if (v.value0 instanceof Data_Either.Left) {
            return Control_Applicative.pure(Control_Monad_Reader_Trans.applicativeReaderT(Control_Monad_Aff.applicativeAff))(new Data_Either.Left(v.value0.value0));
        };
        if (v.value0 instanceof Data_Either.Right) {
            return Control_Bind.discard(Control_Bind.discardUnit)(Control_Monad_Reader_Trans.bindReaderT(Control_Monad_Aff.bindAff))(Data_Functor["void"](Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff))(Data_Traversable["for"](Control_Monad_Reader_Trans.applicativeReaderT(Control_Monad_Aff.applicativeAff))(Data_Traversable.traversableArray)(Data_StrMap.values(v.value1.domeinFile.roles))(function (rol) {
                return Control_Bind.discard(Control_Bind.discardUnit)(Control_Monad_Reader_Trans.bindReaderT(Control_Monad_Aff.bindAff))((function () {
                    var v1 = Perspectives_ContextAndRole.rol_binding(rol);
                    if (v1 instanceof Data_Maybe.Nothing) {
                        return Control_Applicative.pure(Control_Monad_Reader_Trans.applicativeReaderT(Control_Monad_Aff.applicativeAff))(Data_Unit.unit);
                    };
                    if (v1 instanceof Data_Maybe.Just) {
                        return vultRol(v1.value0)(Perspectives_ContextAndRole.rol_pspType(rol))(Perspectives_ContextAndRole.rol_id(rol));
                    };
                    throw new Error("Failed pattern match at Perspectives.ContextRoleParser line 657, column 9 - line 659, column 69: " + [ v1.constructor.name ]);
                })())(function () {
                    return setBuitenRolType(rol);
                });
            })))(function () {
                return Control_Applicative.pure(Control_Monad_Reader_Trans.applicativeReaderT(Control_Monad_Aff.applicativeAff))(new Data_Either.Right(v.value0.value0));
            });
        };
        throw new Error("Failed pattern match at Perspectives.ContextRoleParser line 652, column 3 - line 661, column 21: " + [ v.value0.constructor.name ]);
    });
};
var allTheRest = Data_Functor.map(Text_Parsing_Parser.functorParserT(Control_Monad_State_Trans.functorStateT(Control_Monad_State_Trans.functorStateT(Control_Monad_Reader_Trans.functorReaderT(Control_Monad_Aff.functorAff)))))(Data_String.fromCharArray)(Data_Array.many(Text_Parsing_Parser.alternativeParserT(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff)))))(Text_Parsing_Parser.lazyParserT)(Text_Parsing_Parser_String.anyChar(Text_Parsing_Parser_String.stringLikeString)(Control_Monad_State_Trans.monadStateT(Control_Monad_State_Trans.monadStateT(Control_Monad_Reader_Trans.monadReaderT(Control_Monad_Aff.monadAff))))));
module.exports = {
    inLineComment: inLineComment,
    manyOneLineComments: manyOneLineComments,
    reservedOp: reservedOp,
    reserved: reserved,
    identifier: identifier,
    lexeme: lexeme,
    "int": $$int,
    bool: bool,
    string: string,
    simpleValue: simpleValue,
    identLetter: identLetter,
    identLetterString: identLetterString,
    capitalizedString: capitalizedString,
    lower: lower,
    uncapitalizedString: uncapitalizedString,
    domeinName: domeinName,
    modelName: modelName,
    segmentedName: segmentedName,
    defaultEmbedded: defaultEmbedded,
    localContextName: localContextName,
    localPropertyName: localPropertyName,
    localRolName: localRolName,
    prefix: prefix,
    prefixedName: prefixedName,
    prefixedContextName: prefixedContextName,
    prefixedPropertyName: prefixedPropertyName,
    expandedContextName: expandedContextName,
    expandedPropertyName: expandedPropertyName,
    contextInstanceIDInCurrentNamespace: contextInstanceIDInCurrentNamespace,
    relativeContextTypeName: relativeContextTypeName,
    relativeRolTypeName: relativeRolTypeName,
    relativePropertyTypeName: relativePropertyTypeName,
    contextName: contextName,
    typeContextName: typeContextName,
    perspectEntiteitIdentifier: perspectEntiteitIdentifier,
    propertyName: propertyName,
    roleName: roleName,
    dataTypes: dataTypes,
    dataType: dataType,
    getPosition: getPosition,
    sourceColumn: sourceColumn,
    sourceLine: sourceLine,
    nextLine: nextLine,
    enclosingContextDeclaration: enclosingContextDeclaration,
    contextDeclaration: contextDeclaration,
    withComments: withComments,
    typedPropertyAssignment: typedPropertyAssignment,
    publicContextPropertyAssignment: publicContextPropertyAssignment,
    privateContextPropertyAssignment: privateContextPropertyAssignment,
    rolePropertyAssignment: rolePropertyAssignment,
    isRoleDeclaration: isRoleDeclaration,
    roleOccurrence: roleOccurrence,
    "roleBinding'": roleBinding$prime,
    cacheRol: cacheRol,
    cacheContext: cacheContext,
    roleBindingWithInlineContext: roleBindingWithInlineContext,
    emptyRoleBinding: emptyRoleBinding,
    roleBindingWithReference: roleBindingWithReference,
    roleBinding: roleBinding,
    withRoleCounting: withRoleCounting,
    context: context,
    allTheRest: allTheRest,
    expression: expression,
    section: section,
    sectionHeading: sectionHeading,
    definition: definition,
    importExpression: importExpression,
    enclosingContext: enclosingContext,
    userData: userData,
    UserData: UserData,
    RootContext: RootContext,
    rootParser: rootParser,
    parseAndCache: parseAndCache
};
