// Generated by purs version 0.11.7
"use strict";
var Data_Foreign_Class = require("../Data.Foreign.Class");
var Data_Foreign_Generic = require("../Data.Foreign.Generic");
var Data_Foreign_Generic_Class = require("../Data.Foreign.Generic.Class");
var Data_Function = require("../Data.Function");
var Data_Generic_Rep = require("../Data.Generic.Rep");
var Data_Maybe = require("../Data.Maybe");
var Data_StrMap = require("../Data.StrMap");
var Data_Symbol = require("../Data.Symbol");
var Data_Tuple = require("../Data.Tuple");
var Network_HTTP_Affjax_Response = require("../Network.HTTP.Affjax.Response");
var Perspectives_Syntax = require("../Perspectives.Syntax");
var Prelude = require("../Prelude");
var DomeinFile = function (x) {
    return x;
};
var setRevision = function (vs) {
    return function (v) {
        return DomeinFile((function () {
            var $17 = {};
            for (var $18 in v) {
                if ({}.hasOwnProperty.call(v, $18)) {
                    $17[$18] = v[$18];
                };
            };
            $17._rev = new Data_Maybe.Just(vs);
            return $17;
        })());
    };
};
var genericDomeinFile = new Data_Generic_Rep.Generic(function (x) {
    return new Data_Generic_Rep.Product(x._id, new Data_Generic_Rep.Product(x._rev, new Data_Generic_Rep.Product(x.contexts, x.roles)));
}, function (x) {
    return {
        _id: x.value0,
        _rev: x.value1.value0,
        contexts: x.value1.value1.value0,
        roles: x.value1.value1.value1
    };
});
var respondableDomeinFile = new Network_HTTP_Affjax_Response.Respondable(Data_Foreign_Generic.genericDecode(genericDomeinFile)(Data_Foreign_Generic_Class.genericDecodeConstructor(new Data_Symbol.IsSymbol(function () {
    return "DomeinFile";
}))(Data_Foreign_Generic_Class.genericDecodeArgsRec(Data_Foreign_Generic_Class.genericDecodeFieldsProduct(Data_Foreign_Generic_Class.genericDecodeFieldsField(new Data_Symbol.IsSymbol(function () {
    return "_id";
}))(Data_Foreign_Class.stringDecode))(Data_Foreign_Generic_Class.genericDecodeFieldsProduct(Data_Foreign_Generic_Class.genericDecodeFieldsField(new Data_Symbol.IsSymbol(function () {
    return "_rev";
}))(Data_Foreign_Class.maybeDecode(Data_Foreign_Class.stringDecode)))(Data_Foreign_Generic_Class.genericDecodeFieldsProduct(Data_Foreign_Generic_Class.genericDecodeFieldsField(new Data_Symbol.IsSymbol(function () {
    return "contexts";
}))(Data_Foreign_Class.strMapDecode(Perspectives_Syntax.decodePerspectContext)))(Data_Foreign_Generic_Class.genericDecodeFieldsField(new Data_Symbol.IsSymbol(function () {
    return "roles";
}))(Data_Foreign_Class.strMapDecode(Perspectives_Syntax.decodePerspectRol)))))))(Data_Foreign_Generic_Class.genericCountArgsRec))((function () {
    var $32 = {};
    for (var $33 in Data_Foreign_Generic.defaultOptions) {
        if ({}.hasOwnProperty.call(Data_Foreign_Generic.defaultOptions, $33)) {
            $32[$33] = Data_Foreign_Generic["defaultOptions"][$33];
        };
    };
    $32.unwrapSingleConstructors = true;
    return $32;
})()), new Data_Tuple.Tuple(Data_Maybe.Nothing.value, Network_HTTP_Affjax_Response.JSONResponse.value));
var encodeDomeinFile = new Data_Foreign_Class.Encode(Data_Foreign_Generic.genericEncode(genericDomeinFile)(Data_Foreign_Generic_Class.genericEncodeConstructor(new Data_Symbol.IsSymbol(function () {
    return "DomeinFile";
}))(Data_Foreign_Generic_Class.genericEncodeArgsRec(Data_Foreign_Generic_Class.genericEncodeFieldsProduct(Data_Foreign_Generic_Class.genericEncodeFieldsField(new Data_Symbol.IsSymbol(function () {
    return "_id";
}))(Data_Foreign_Class.stringEncode))(Data_Foreign_Generic_Class.genericEncodeFieldsProduct(Data_Foreign_Generic_Class.genericEncodeFieldsField(new Data_Symbol.IsSymbol(function () {
    return "_rev";
}))(Data_Foreign_Class.maybeEncode(Data_Foreign_Class.stringEncode)))(Data_Foreign_Generic_Class.genericEncodeFieldsProduct(Data_Foreign_Generic_Class.genericEncodeFieldsField(new Data_Symbol.IsSymbol(function () {
    return "contexts";
}))(Data_Foreign_Class.strMapEncode(Perspectives_Syntax.encodePerspectContext)))(Data_Foreign_Generic_Class.genericEncodeFieldsField(new Data_Symbol.IsSymbol(function () {
    return "roles";
}))(Data_Foreign_Class.strMapEncode(Perspectives_Syntax.encodePerspectRol))))))))((function () {
    var $35 = {};
    for (var $36 in Data_Foreign_Generic.defaultOptions) {
        if ({}.hasOwnProperty.call(Data_Foreign_Generic.defaultOptions, $36)) {
            $35[$36] = Data_Foreign_Generic["defaultOptions"][$36];
        };
    };
    $35.unwrapSingleConstructors = true;
    return $35;
})()));
var defaultDomeinFile = {
    _rev: Data_Maybe.Nothing.value,
    _id: "",
    contexts: Data_StrMap.empty,
    roles: Data_StrMap.empty
};
var addRolToDomeinFile = function (v) {
    return function (v1) {
        var $40 = {};
        for (var $41 in v1) {
            if ({}.hasOwnProperty.call(v1, $41)) {
                $40[$41] = v1[$41];
            };
        };
        $40.roles = Data_StrMap.insert(v._id)(v)(v1.roles);
        return $40;
    };
};
var addContextToDomeinFile = function (v) {
    return function (v1) {
        var $47 = {};
        for (var $48 in v1) {
            if ({}.hasOwnProperty.call(v1, $48)) {
                $47[$48] = v1[$48];
            };
        };
        $47.contexts = Data_StrMap.insert(v._id)(v)(v1.contexts);
        return $47;
    };
};
module.exports = {
    DomeinFile: DomeinFile,
    defaultDomeinFile: defaultDomeinFile,
    addContextToDomeinFile: addContextToDomeinFile,
    addRolToDomeinFile: addRolToDomeinFile,
    setRevision: setRevision,
    genericDomeinFile: genericDomeinFile,
    encodeDomeinFile: encodeDomeinFile,
    respondableDomeinFile: respondableDomeinFile
};
