ACTIES EN SCHERMEN: RONDOM EEN ROL

1. Stel je hebt een consult van een ContextRol, met view V.
2. In die consult heb je de consult van zijn binding. Dat is dus een buitenrol.
3. We geven dat weer als een vlak met de properties van V en daarin een kaartje.
4. In die consult heb je ook de ontbinding en binding van de rol.
5. De ontbinding geven we een plek in het zwevend menu boven het kaartje.
6. De binding implementeren we met de drop van een kaartje.
7. Stel je hebt ook een create van de rol (dit werkt alleen voor relationele rollen). Die geven we een plek met een nieuw-knop onderaan de lijst van vlakken-per-rol.
8. Stel je hebt ook een delete van de rol. Die geven we een plek met een zwevend menu boven het rolvlak zelf. Overigens, als je op het kaartje het menu oproept, kun je in dat menu ook best het verwijderen van de rol zelf opnemen.
9. De create van het type context die bij de buitenrol hoort, is beschikbaar in het zwevend menu van de lege rol. Je opent dan een create-scherm.

Kortom, hier kom je heel goed uit. Je kunt code schrijven die een gevalsonderscheiding doet.

EEN POGING TOT SYNTAX: VOORBEELDEN

In onderstaand voorbeeld hebben we het over een ContextRol Ritten, gevuld door de context TaxiRit. Dit leidt tot een vlak met inhoud.

X consulteert Ritten (=c)								- toon de properties van elke rit in een subvlak, in een lijst.
	X consulteert bindingVan $c							- toon het kaartje dat bij TaxiRit hoort als onderdeel van het subvlak.
														- Open TaxiRit door dubbelklikken: is standaard voor consulteert van BuitenRol.
	X creeert Rit (=z)									- toon een knop 'nieuw' onderaan de lijst, of 'nieuwe Rit' in zwevend menu boven hele vlak.
															De properties van de nieuwe instantie van Ritten kunnen ingevuld worden.
		X creeert TaxiRit (=p)							- item 'nieuwe TaxiRit' in zwevend menu boven lege rol. Open na keuze het scherm TaxiRit.
			bot vult $z met $p							- kaartje van de nieuwe TaxiRit wordt zichtbaar na creeeren.
	X selecteert $y uit $c								- Klik op vlak van instantie van Ritten selecteert. Visueel ondersteund met b.v. kader.
		X vult $y met TaxiRit 							- Het is mogelijk om kaartjes op het subvlak te droppen (als de instantie leeg is).
		X ontbindt $y									- item 'ontkoppel TaxiRit' in zwevend menu.
		X verwijdert $y									- item 'verwijder Rit' in zwevend menu.
		X bewerkt $y									- item 'verander' in zwevend menu boven vlak van de instantie van Ritten.
		X creeert TaxiRit (=p)							- andere ontsluiting van een nieuwe maken, nodig als je een binding hebt verwijdert.
			bot vult $y met $p

BESTELDPRODUCT EN PRODUCT
We hebben een berekende rol Producten (een collectie van buitenrollen), en een ContextRol BesteldeProducten. Beide worden gevuld door de context Product. BesteldeProducten heeft een attribuut 'aantal'.

X consulteert Producten (=p)							- toon de kaartjes. Het gaat om een berekende rol, een collectie van BuitenRollen.
															Open Product door dubbelklikken: is standaard voor consulteert van BuitenRol.
X consulteert BesteldeProducten (=bp)					- toon de rollen, met property 'aantal'. Kan ook in tabelvorm. Hoe te kiezen?
	X consulteert bindingVan $bp						- toon het kaartje van het Product. Dubbelklik op het kaartje opent het scherm voor Product.
	X creeert BesteldProduct (=nbp)						- hier willen we dat bij de drop van een Product eerst een nieuwe instantie van de Rol 
															Producten gemaakt wordt en dat die vervolgens wordt gevuld met het gedropte Product.
		bot vult $nbp met Product
	X selecteert $y uit $bp
		X verwijdert $y
		X bewerkt $y

Open vragen bij dit voorbeeld:
1. Hoe bepaal je of BesteldProduct in lijst- of in tabelvorm wordt getoond?
2. Hoe schik je de lijst van Producten ten opzichte van BesteldeProducten? Horizontaal naast elkaar lijkt mij het beste. Maar kunnen we dat automatisch bepalen?


MASTER DETAIL
Hier zou het kunnen gaan om een context Bestelling en een lijst OrderRegels (een Rol). Dit lijkt op het vorige voorbeeld, maar daar koos je producten uit een lijst door te slepen. Hier inspecteer je een bestelling. Eventueel kun je een orderregel toevoegen door een kaartje uit een productenlijst te slepen.

X consulteert Bestelling								- toon properties van de binnenrol, zoals totaalbedrag.
	X consulteert OrderRegels (=or)						- toon de rollen in tabelvorm. EÃ©n kolom heeft het kaartje. NB: dit vergt een speciale 
															component, want de binding is geen property. PROBLEEM: hoe te bepalen dat je deze 
															component wil gebruiken?
	X selecteert $r uit $or
		bot consulteert bindingVan $r					- bed het scherm voor de context van Product in

Open vragen bij dit voorbeeld: 
1. Hoe bepaal je dat je de speciale tabelregel met een kaartje wil gebruiken?
2. Hoe zorg je voor de schikking van de details van de order, de orderregels en het detailscherm?
