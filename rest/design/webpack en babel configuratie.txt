WEBPACK EN BABEL CONFIGURATIE

Mijn huidige configuratie blijkt de dynamische import niet goed te ondersteunen.

Bij Babel vind ik op de pagina https://babeljs.io/docs/en/babel-plugin-syntax-dynamic-import dat je iets moet toevoegen aan de plugins:

	"plugins": ["@babel/plugin-syntax-dynamic-import"]

Bij WebPack zie ik dat je dat kunt doen via de Webpack configuratie:

module: {
  rules: [
    {
      test: /\.m?js$/,
      exclude: /(node_modules|bower_components)/,
      use: {
        loader: 'babel-loader',
        options: {
          presets: ['@babel/preset-env'],
          plugins: ['@babel/plugin-proposal-object-rest-spread']
        }
      }
    }
  ]
}

Ik zie ook dat hier @babel/preset-env gebruikt wordt, in plaats van "env". Ik heb nu:

module: {
    rules: [
      {
        test: /.jsx?$/,
        exclude: /node_modules/,
        use: [
          {
            loader: "babel-loader",
            options: {
              presets: [
                "env",
                "react"
              ]
            }
          }
        ]
      },
      {
        test: /\.css$/,
        use: [ 'style-loader', 'css-loader' ]
      }
    ]
  }

Ik ga @babel/preset-env opsporen en installeren en dan configureren in Webpack.
Zie https://babeljs.io/docs/en/babel-preset-env voor een handleiding

Geknipt uit deze pagina:
	@babel/preset-env takes any target environments you've specified and checks them against its mappings to compile a list of plugins and passes it to Babel.
	
	For browser- or Electron-based projects, we recommend using a .browserslistrc file to specify targets

Hier is browserlist: https://github.com/browserslist/browserslist

UITVOERING
1. Ik heb een .browserslistrc file gemaakt met deze inhoud:

	# Browsers supported by Perspectives

	last 2 Electron versions

2. npm install --save-dev @babel/preset-env in perspectives-react-integrated-client
